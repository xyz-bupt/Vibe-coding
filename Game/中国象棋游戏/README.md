# 中国象棋 - 增强版

一个功能完整的中国象棋游戏，基于 [itlwei/Chess](https://github.com/itlwei/Chess) 项目开发，在原有基础上增加了棋谱收集、残局挑战等功能。

## 功能特点

### 🎮 游戏模式

- **人机对弈** - 与AI对战，可选择不同难度等级
  - 菜鸟水平（搜索深度2）
  - 中级水平（搜索深度3）
  - 高手水平（搜索深度4）

- **双人对战** - 与朋友面对面下棋
  - 完整的规则验证
  - 双方轮流下棋
  - 支持悔棋功能

### 📚 棋谱学习

- **开局定式** - 学习经典开局
  - 中炮过河车对屏风马
  - 飞相局对中炮
  - 仙人指路对卒底炮
  - 起马局对中炮

- **中局技巧** - 提升中局水平
  - 弃子攻杀技巧
  - 运子攻王技巧
  - 兑子争先技巧

- **名局赏析** - 欣赏大师对局
  - 胡荣华经典对局
  - 许银川精彩对局
  - 赵国荣名局赏析
  - 柳大华盲棋对局

### 🧩 残局挑战

- **基础残局**（简单）
  - 单兵例胜孤将
  - 单车例胜双士
  - 马兵例胜单缺士

- **中级残局**（中等）
  - 马炮例胜单马
  - 双车例胜车士象全
  - 炮双士例胜单炮

- **高级残局**（困难）
  - 七星聚会
  - 野马操田
  - 千里独行

- **江湖残局**（专家）
  - 蚯蚓降龙
  - 马跃檀溪
  - 五虎下川
  - 三英战吕布
  - 二郎搜山

### 💾 棋谱收藏

- **保存对局** - 保存精彩对局到本地
- **添加备注** - 为保存的棋谱添加说明
- **复盘学习** - 随时回顾保存的对局
- **导出导入** - 导出收藏到JSON文件或从文件导入

### 🎨 其他功能

- **多种皮肤** - 三种不同风格的棋盘皮肤
- **着法记录** - 实时显示双方着法
- **提示功能** - 残局挑战时获取提示
- **自动播放** - 自动播放经典棋谱

## 安装使用

### 在线使用

直接用浏览器打开 `index.html` 文件即可开始游戏。

### 本地部署

1. 克隆或下载本项目
2. 用浏览器打开 `index.html`
3. 开始游戏！

## 文件结构

```
中国象棋游戏/
├── index.html          # 主页面
├── css/
│   ├── chess.css       # 基础样式
│   └── enhanced.css    # 增强样式
├── js/
│   ├── common.js       # 通用函数
│   ├── play.js         # 游戏逻辑
│   ├── AI.js           # AI算法
│   ├── gambit.js       # 开局库
│   ├── clasli.js       # 残局库（原始）
│   ├── puzzles.js      # 残局数据（增强）
│   ├── manuals.js      # 棋谱数据
│   ├── collection.js   # 收藏管理
│   └── enhanced.js     # 增强功能
├── audio/              # 音效文件
├── img/                # 图片资源
└── README.md           # 说明文档
```

## 游戏操作

### 基本操作

- **选择棋子** - 点击要移动的棋子
- **移动棋子** - 点击目标位置
- **悔棋** - 点击"悔棋"按钮撤销上一步
- **重新开始** - 点击"重新开始"按钮开始新对局
- **返回首页** - 点击"返回首页"按钮返回主菜单

### 残局挑战

1. 在主菜单选择"残局挑战"
2. 选择难度分类
3. 选择具体残局
4. 点击"开始挑战"
5. 根据提示完成残局

### 学习棋谱

1. 在主菜单选择"经典棋谱"
2. 选择棋谱分类
3. 选择具体棋谱
4. 点击"学习棋谱"
5. 使用导航控制棋谱回放
   - 上一步/下一步按钮逐步查看
   - 自动播放按钮连续播放

### 保存棋谱

1. 在对局中点击"保存棋谱"按钮
2. 输入棋谱名称
3. 添加备注（可选）
4. 点击"保存"按钮

### 查看收藏

1. 在主菜单选择"我的收藏"
2. 查看所有保存的棋谱
3. 点击"复盘"查看棋谱
4. 点击"删除"删除收藏

## 技术特点

### 原生实现

- 纯JavaScript实现，无需任何框架
- HTML5 Canvas渲染棋盘
- 响应式设计，支持不同屏幕尺寸

### AI算法

- 使用Minimax算法
- Alpha-Beta剪枝优化
- 局面评估函数
- 历史表提高搜索效率

### 数据存储

- LocalStorage本地存储
- JSON格式导出导入
- 跨浏览器兼容

## 浏览器兼容

- Chrome（推荐）
- Firefox
- Safari
- Edge
- 需要支持HTML5 Canvas

## 参考资源

### 残局和棋谱来源

- [中国象棋残局大全](http://m.xiangqiqipu.com/Category-5.html)
- [中国象棋残局破解](http://m.xiangqiqipu.com/Category/List-138-49.html)
- [相弈象棋 - 残局挑战](https://www.zh.xiangqi.com/how-to-create-puzzle/)

## 更新日志

### v2.0.0 - 增强版（2025）

**新增功能：**
- 棋谱收藏系统
- 经典棋谱库（开局、中局、名局）
- 扩展残局库（16个经典残局）
- 双人对战模式
- 着法记录面板
- 棋谱回放功能
- 提示功能

**改进：**
- 优化UI界面
- 增加多种皮肤
- 改进AI算法
- 完善游戏规则

### v1.5.1 - 原版

- 修复BUG

### v1.5.0 - 原版

- 大幅度修改UI，增加风格选择

## 版权说明

本项目基于 [itlwei/Chess](https://github.com/itlwei/Chess) 的开源项目（MIT许可）进行二次开发。

原项目作者：一叶孤舟
联系方式：itlwei@163.com QQ:28701884

增强版开发和维护：Claude Code

## 许可证

MIT License

## 贡献

欢迎提交问题和改进建议！

---

**享受象棋的乐趣！** ♟️
